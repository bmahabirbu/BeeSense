# Software README

This software report will be divided into two sections. The first section will consist of the GUI usage and the second section will consist of the software that runs the feather sensor board units and the raspberry pi.

## <ins>GUI</ins>
### <ins>Installation/Usage</ins>
The GUI is bootstrapped with React and hosted on Firebase, and is accessible through this link: [BeeSense Website](https://beesense-f19a2.web.app)

The second way to test the GUI’s functionality is by downloading the GUI folder from Github and running these commands:
* `npm install`
* `npm start`

These commands will install all of the necessary packages and run the application on the localhost.

A more detailed explanation of building, running and debugging the GUI can be found in the GUI’s README or on the React website.

The GUI consists of 3 main pages. The Home page, Settings Generation page and CSV Visualisation page.

* Home Page
    * This is a landing page.
* Generate Settings Page
    * This page requires the user to input the configurations for the board, and downloads a .txt file onto your local machine.
* CSV Visualisation Page
    * This page will accept a CSV file generated by the board, and visualise the data.

## <ins>SensorBoard/Weight board/Raspberry Pi Lora software</ins>

There are 3 main scripts called transmitter, weight transmitter and receiver. The transmitter code reads the data from each sensor (temperature, humidity, datetime, gas, IR cam, mic) and transmits the information as bytes to the raspberry pi via lora.The weight transmitter is basically the same as the normal transmitter code except with the added weight sensing functionality. 

### <ins>Software modules</ins>

Transmitter and weight transmitter 
* loadConfiguration(Config &config)
    * Loads the configuration file from a .txt file with json formats
    * Contains name of sensor, name of hive, and time to send packet
* Setup_temp_humid
    * Sets up the temperature/humidity sensor
* Print_temp_humid
    * Creates a string of the sensor data so that the data can be sent using lora
* Setup_lora
    * Sets up the lora transmission signal. Set at 905 Ghz
* send_message(String string)
    * Uses lora to send a packet 
* Setup_rtc
    * Sets up date time sensor
* Print_rtc
    * Creates a string of the sensor data so that the data can be sent using lora
* Setup_gas
    * Sets up gas sensor
* Print_gas
    * Creates a string of the sensor data so that the data can be sent using lora
* Setup_ir
    * Set up IR cam sensor
* Print_ir
    * Creates a string of the sensor data so that the data can be sent using lora
* Print_mic
    * Creates a string of the sensor data so that the data can be sent using lora
* Setup_sd_card
    * Sets up sd card reader
* Log_data
    * Logs packet data to log.txt
* Setup_weightscale
    * Sets up weight scale
* Print_weightscale
    * Creates a string of the sensor data so that the data can be sent using lora

Raspberry Pi Lora 
* No Core modules but contains a while loop with mini functions
    * Line 104-131
        * Logs data to excel file and sends awk back to transmitter
    * Line 57-104
        * Searches for packet and saves it to RAM
